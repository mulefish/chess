<html>

<head>
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
    <link rel="icon" href="data:,">

    <style>
        /* i.fas {
  display: inline-block;
  border-radius: 50px;
  box-shadow: 0 0 1px #000;
  padding: 0.2em 0.3em;

} */
        .feltgreen {
            background-color: green;
            height: 60px;
            width: 60px;
        }


        .offwhite {
            background-color: #909090;
            height: 60px;
            width: 60px;

        }

        .greenNumber {
            position: relative;
            z-index: 1;
            color: #F8F0E3;
            margin-left: 3px;
            font-size: 11px;
        }

        .whiteNumber {
            position: relative;
            z-index: 1;
            color: green;
            margin-left: 3px;
            font-size: 11px;
        }

        .whiteLetter {
            position: relative;
            z-index: 2;
            font-size: 11px;
            color: green;
        }

        .greenLetter {
            position: relative;
            z-index: 2;
            font-size: 11px;
            color: #F8F0E3;
        }

        #board {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        td:hover {
            background-color: yellow;
        }
    </style>
    <script src="/static/game.js"></script>

</head>

<body>


    <table border="1">
        <tr>
            <td id="1_1" class="offwhite" align="center" valign="center"></td>
            <td id="2_1" class="feltgreen" align="center" valign="center"></td>
            <td id="3_1" class="offwhite" align="center" valign="center"></td>
            <td id="4_1" class="feltgreen" align="center" valign="center"></td>
            <td id="5_1" class="offwhite" align="center" valign="center"></td>
            <td id="6_1" class="feltgreen" align="center" valign="center"></td>
            <td id="7_1" class="offwhite" align="center" valign="center"></td>
            <td id="8_1" class="feltgreen" align="center" valign="center"></td>
        </tr>
        <tr>
            <td id="1_2" class="feltgreen" align="center" valign="center"></td>
            <td id="2_2" class="offwhite" align="center" valign="center"></td>
            <td id="3_2" class="feltgreen" align="center" valign="center"></td>
            <td id="4_2" class="offwhite" align="center" valign="center"></td>
            <td id="5_2" class="feltgreen" align="center" valign="center"></td>
            <td id="6_2" class="offwhite" align="center" valign="center"></td>
            <td id="7_2" class="feltgreen" align="center" valign="center"></td>
            <td id="8_2" class="offwhite" align="center" valign="center"></td>
        </tr>
        <tr>
            <td id="1_3" class="offwhite" align="center" valign="center"></td>
            <td id="2_3" class="feltgreen" align="center" valign="center"></td>
            <td id="3_3" class="offwhite" align="center" valign="center"></td>
            <td id="4_3" class="feltgreen" align="center" valign="center"></td>
            <td id="5_3" class="offwhite" align="center" valign="center"></td>
            <td id="6_3" class="feltgreen" align="center" valign="center"></td>
            <td id="7_3" class="offwhite" align="center" valign="center"></td>
            <td id="8_3" class="feltgreen" align="center" valign="center"></td>
        </tr>
        <tr>
            <td id="1_4" class="feltgreen" align="center" valign="center"></td>
            <td id="2_4" class="offwhite" align="center" valign="center"></td>
            <td id="3_4" class="feltgreen" align="center" valign="center"></td>
            <td id="4_4" class="offwhite" align="center" valign="center"></td>
            <td id="5_4" class="feltgreen" align="center" valign="center"></td>
            <td id="6_4" class="offwhite" align="center" valign="center"></td>
            <td id="7_4" class="feltgreen" align="center" valign="center"></td>
            <td id="8_4" class="offwhite" align="center" valign="center"></td>
        </tr>
        <tr>
            <td id="1_5" class="offwhite" align="center" valign="center"></td>
            <td id="2_5" class="feltgreen" align="center" valign="center"></td>
            <td id="3_5" class="offwhite" align="center" valign="center"></td>
            <td id="4_5" class="feltgreen" align="center" valign="center"></td>
            <td id="5_5" class="offwhite" align="center" valign="center"></td>
            <td id="6_5" class="feltgreen" align="center" valign="center"></td>
            <td id="7_5" class="offwhite" align="center" valign="center"></td>
            <td id="8_5" class="feltgreen" align="center" valign="center"></td>
        </tr>
        <tr>
            <td id="1_6" class="feltgreen" align="center" valign="center"></td>
            <td id="2_6" class="offwhite" align="center" valign="center"></td>
            <td id="3_6" class="feltgreen" align="center" valign="center"></td>
            <td id="4_6" class="offwhite" align="center" valign="center"></td>
            <td id="5_6" class="feltgreen" align="center" valign="center"></td>
            <td id="6_6" class="offwhite" align="center" valign="center"></td>
            <td id="7_6" class="feltgreen" align="center" valign="center"></td>
            <td id="8_6" class="offwhite" align="center" valign="center"></td>
        </tr>
        <tr>
            <td id="1_7" class="offwhite" align="center" valign="center"></td>
            <td id="2_7" class="feltgreen" align="center" valign="center"></td>
            <td id="3_7" class="offwhite" align="center" valign="center"></td>
            <td id="4_7" class="feltgreen" align="center" valign="center"></td>
            <td id="5_7" class="offwhite" align="center" valign="center"></td>
            <td id="6_7" class="feltgreen" align="center" valign="center"></td>
            <td id="7_7" class="offwhite" align="center" valign="center"></td>
            <td id="8_7" class="feltgreen" align="center" valign="center"></td>
        </tr>
        <tr>
            <td id="1_8" class="feltgreen" align="center" valign="center"></td>
            <td id="2_8" class="offwhite" align="center" valign="center"></td>
            <td id="3_8" class="feltgreen" align="center" valign="center"></td>
            <td id="4_8" class="offwhite" align="center" valign="center"></td>
            <td id="5_8" class="feltgreen" align="center" valign="center"></td>
            <td id="6_8" class="offwhite" align="center" valign="center"></td>
            <td id="7_8" class="feltgreen" align="center" valign="center"></td>
            <td id="8_8" onClick="setActive(this);" class="offwhite" align="center" valign="center"></td>
        </tr>


    </table>


    <hr />

    <script>
        const ROOK = "rook"
        const KNIGHT = "knight"
        const BISHOP = "bishop"
        const QUEEN = "queen"
        const KING = "king"
        const PAWN = "pawn"
        const WHITE = "white"
        const BLACK = "black"
        let pieces = {}
        class Piece {
            constructor(color, kind, row, col, moves, attacks) {
                this.color = color;
                this.kind = kind;
                this.row = row;
                this.col = col;
                this.moves = moves
                // Movement special for pawns and knights
                if ( kind === KNIGHT || kind === PAWN ) {
                    this.recurse = 1
                } else {
                    this.recurse = 8
                }
                // Special for pawns: their attacks are different from their moves
                if (attacks === undefined) {
                    this.attacks = moves
                } else {
                    this.attacks = attacks
                }
            }
            getHtml() {
                return `<i class='fas fa-chess-${this.kind}' style='font-size:36px;color:${this.color}'></i>`
            }
        }

        function setup() {
            pieces["1_1"] = new Piece(BLACK, ROOK, 1, 1, [8, -8, -1, 1])
            pieces["2_1"] = new Piece(BLACK, KNIGHT, 2, 1, [6, -6, 15, 17, 10, -6, -15, -17])
            pieces["3_1"] = new Piece(BLACK, BISHOP, 3, 1, [9, -7, -9, 7])
            pieces["4_1"] = new Piece(BLACK, QUEEN, 4, 1, [-1, 7, 8, 9, 1, -7, -8, -9])
            pieces["5_1"] = new Piece(BLACK, KING, 5, 1, [-1, 7, 8, 9, 1, -7, -8, -9])
            pieces["6_1"] = new Piece(BLACK, BISHOP, 6, 1, [9, -7, -9, 7])
            pieces["7_1"] = new Piece(BLACK, KNIGHT, 7, 1, [6, -6, 15, 17, 10, -6, -15, -17])
            pieces["8_1"] = new Piece(BLACK, ROOK, 8, 1, [8, -8, -1, 1])
            pieces["1_2"] = new Piece(BLACK, PAWN, 1, 1, [-7, 9])
            pieces["2_2"] = new Piece(BLACK, PAWN, 2, 2, [1], [-7, 9])
            pieces["3_2"] = new Piece(BLACK, PAWN, 3, 2, [1], [-7, 9])
            pieces["4_2"] = new Piece(BLACK, PAWN, 4, 2, [1], [-7, 9])
            pieces["5_2"] = new Piece(BLACK, PAWN, 5, 2, [1], [-7, 9])
            pieces["6_2"] = new Piece(BLACK, PAWN, 6, 2, [1], [-7, 9])
            pieces["7_2"] = new Piece(BLACK, PAWN, 7, 2, [1], [-7, 9])
            pieces["8_2"] = new Piece(BLACK, PAWN, 8, 2, [1], [-7, 9])
            //
            pieces["1_7"] = new Piece(WHITE, PAWN, 1, 7, [-1], [-9, 7])
            pieces["2_7"] = new Piece(WHITE, PAWN, 2, 7, [-1], [-9, 7])
            pieces["3_7"] = new Piece(WHITE, PAWN, 3, 7, [-1], [-9, 7])
            pieces["4_7"] = new Piece(WHITE, PAWN, 4, 7, [-1], [-9, 7])
            pieces["5_7"] = new Piece(WHITE, PAWN, 5, 7, [-1], [-9, 7])
            pieces["6_7"] = new Piece(WHITE, PAWN, 6, 7, [-1], [-9, 7])
            pieces["7_7"] = new Piece(WHITE, PAWN, 7, 7, [-1], [-9, 7])
            pieces["8_7"] = new Piece(WHITE, PAWN, 8, 7, [-1], [-9, 7])
            pieces["1_8"] = new Piece(WHITE, ROOK, 1, 8, [8, -8, -1, 1])
            pieces["2_8"] = new Piece(WHITE, KNIGHT, 2, 8, [6, -6, 15, 17, 10, -6, -15, -17])
            pieces["3_8"] = new Piece(WHITE, BISHOP, 3, 8, [9, -7, -9, 7])
            pieces["4_8"] = new Piece(WHITE, QUEEN, 4, 8, [-1, 7, 8, 9, 1, -7, -8, -9])
            pieces["5_8"] = new Piece(WHITE, KING, 5, 8, [-1, 7, 8, 9, 1, -7, -8, -9])
            pieces["6_8"] = new Piece(WHITE, BISHOP, 6, 8, [9, -7, -9, 7])
            pieces["7_8"] = new Piece(WHITE, KNIGHT, 7, 8, [6, -6, 15, 17, 10, -6, -15, -17])
            pieces["8_8"] = new Piece(WHITE, ROOK, 8,8, [8, -8, -1, 1])






            for (let k in pieces) {
                document.getElementById(k).innerHTML = pieces[k].getHtml()
            }


            /*
            let count = 0
            for (let row = 1; row < 9; row++) {
                for (let col = 1; col < 9; col++) {
                    const id = row + "_" + col
                    document.getElementById(id).innerHTML = count + " " + id
                    count++
                }
            }
            */
        }
        setup()
        function setActive(thing) {
            console.log(thing.id)
        }
    </script>

</body>

</html>